# WD (Workstation Diary)

[English](/README.md) | [日本語](/README.md_ja.md)



WDは、ノートを効率的に管理・整理するためのコマンドラインツールです。ターミナルから直接マークダウンノートの作成、編集、検索、管理を行うためのシンプルなインターフェースを提供します。

### 特徴

- タイムスタンプとタグを自動付与してノートを作成・編集
- 対話的な選択によるノートの一覧表示と検索
- 確認プロセス付きのノート削除機能
- ノート内容のプレビュー機能
- 内容やタグによるノート検索
- 環境変数を通じたノートディレクトリの設定
- fzf（インストールされている場合）を使用した高度なファイル選択機能

### インストール方法

1. リポジトリをクローンします：
   ```
    git clone git@github.com:ywsrock/workstation-diary.git
   ```

2. 以下の行を `~/.bashrc` または `~/.zshrc` に追加します：
   ```bash
   source /path/to/wd.sh
   ```

3. シェルの設定を再読み込みします：
   ```
   source ~/.bashrc  # または source ~/.zshrc
   ```

4. （オプション）カスタムノートディレクトリを設定する場合は、以下の行をシェル設定に追加します：
   ```bash
   export WD_NOTES_DIR="/path/to/your/notes/directory"
   ```

### 使用方法

WDは、ノート管理のための複数のコマンドを提供します。基本的な使い方は以下の通りです：

```
wd <コマンド> [引数]
```

#### コマンド一覧

- `add <ノート名> [タグ]`: 新しいノートを追加
- `list [キーワード]`: 全ノートの一覧表示またはキーワードで検索し、選択して開く
- `delete [ノート名]`: ノートを削除（名前が指定されない場合は対話的に選択）
- `open [ノート名]`: ノートを開く（名前が指定されない場合は対話的に選択）
- `search <正規表現パターン>`: 正規表現を使用してノート内を検索
- `grep <キーワード> [-f]`: 全ノート内でキーワードを検索（-fオプションでfzfを使用）
- `preview [ノート名]`: ノートのプレビュー（名前が指定されない場合は対話的に選択）
- `tag [ノート名]`: ノートのタグを表示・編集（名前が指定されない場合は対話的に選択）
- `tag search <タグ名>`: タグでノートを検索
- `recent [数]`: 最近のノートを表示・選択（デフォルトは5件）
- `config`: 現在の設定を表示
- `help`: ヘルプメッセージを表示

### 詳細なコマンド説明

#### add

指定した名前と任意のタグで新しいノートを作成します。

```
wd add <ノート名> [タグ]
```

例：
```
wd add "新しいノート" 仕事 重要
```

これにより、"新しいノート"というタイトルで、"仕事"と"重要"というタグを持つ新しいノートが作成されます。

#### list

全ノートの一覧を表示するか、キーワードで検索します。キーワードが指定された場合、ノートをフィルタリングします。その後、ノートを選択して開くことができます。

```
wd list [キーワード]
```

例：
```
wd list
wd list プロジェクト
```

#### delete

ノートを削除します。名前が指定されない場合、削除するノートを選択するよう促されます。

```
wd delete [ノート名]
```

例：
```
wd delete "古いノート"
```

#### open

ノートを開いて編集します。名前が指定されない場合、開くノートを選択するよう促されます。

```
wd open [ノート名]
```

例：
```
wd open "マイノート"
```

#### search

正規表現パターンを使用してノート内を検索します。

```
wd search <正規表現パターン>
```

例：
```
wd search "TODO.*緊急"
```

#### grep

全ノート内でキーワードを検索します。`-f`フラグを使用すると、fzfを使用して対話的に選択できます（fzfがインストールされている場合）。

```
wd grep <キーワード> [-f]
```

例：
```
wd grep 重要 -f
```

#### preview

ノートの内容をプレビューします。名前が指定されない場合、プレビューするノートを選択するよう促されます。

```
wd preview [ノート名]
```

例：
```
wd preview "マイノート"
```

#### tag

ノートのタグを表示または編集します。名前が指定されない場合、ノートを選択するよう促されます。

```
wd tag [ノート名]
```

例：
```
wd tag "マイノート"
```

#### tag search

タグでノートを検索します。

```
wd tag search <タグ名>
```

例：
```
wd tag search 仕事
```

#### recent

最近のノートを表示し、選択できるようにします。表示する最近のノートの数を指定できます（デフォルトは5件）。

```
wd recent [数]
```

例：
```
wd recent 10
```

#### config

現在の設定（ノートディレクトリを含む）を表示します。

```
wd config
```

#### help

利用可能な全コマンドのリストを含むヘルプメッセージを表示します。

```
wd help
```

### 設定

カスタムノートディレクトリを設定するには、`WD_NOTES_DIR`環境変数を設定します：

```bash
export WD_NOTES_DIR="/path/to/your/notes/directory"
```

設定されていない場合、WDはデフォルトディレクトリとして`$HOME/notes`を使用します。

### 依存関係

- BashまたはZshシェル
- 標準Unixユーティリティ（find、grep、sedなど）
- （オプション）高度なファイル選択のためのfzf
- （オプション）改善されたファイルプレビューのためのbat


